databaseChangeLog:
  - changeSet:
      id: 9
      author: Maria_solsol
      changes:
          - sql:
              endDelimiter: ';'
              dbms: 'postgresql'
              sql: CREATE TYPE audit_type AS ENUM( 'SUCCESS','FAIL')

      rollback:
          - sql:
              endDelimiter: ';'
              dbms: 'postgresql'
              sql: DROP TYPE audit_type;
  - changeSet:
      id: 10
      author: Maria_solsol
      changes:
        - createTable:
            schemaName: coworking_schema
            tableName: audit
            columns:
              - column:
                  name: id
                  type: BIGINT
                  constraints:
                    primaryKey: true
                    nullable: false
                  defaultValueComputed: nextval('coworking_schema.id_seq')
              - column:
                  name: user_email
                  type: VARCHAR(320)
              - column:
                  name: message
                  type: VARCHAR
                  constraints:
                    nullable: false
              - column:
                  name: audit_type
                  type: audit_type
                  constraints:
                    nullable: false
              - column:
                  name: when_executed
                  type: TIMESTAMP
                  constraints:
                    nullable: false
      rollback:
        - dropTable:
            tableName: audit